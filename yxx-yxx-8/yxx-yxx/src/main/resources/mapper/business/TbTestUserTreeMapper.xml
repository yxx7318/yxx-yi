<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yxx.business.mapper.TbTestUserTreeMapper">

    <resultMap type="TbTestUserTree" id="TbTestUserTreeResult">
        <result property="userId"    column="user_id"    />
        <result property="treeId"    column="tree_id"    />
        <result property="treeName"    column="tree_name"    />
        <result property="userName"    column="user_name"    />
        <result property="password"    column="password"    />
        <result property="status"    column="status"    />
        <result property="registerDate"    column="register_date"    />
        <result property="registerTime"    column="register_time"    />
        <result property="createById"    column="create_by_id"    />
        <result property="createByName"    column="create_by_name"    />
        <result property="createTime"    column="create_time"    />
        <result property="updateById"    column="update_by_id"    />
        <result property="updateByName"    column="update_by_name"    />
        <result property="updateTime"    column="update_time"    />
        <result property="remark"    column="remark"    />
    </resultMap>

    <sql id="selectTbTestUserTreeVo">
        select user_id, tree_id, tree_name, user_name, password, status, register_date, register_time, create_by_id, create_by_name, create_time, update_by_id, update_by_name, update_time, remark from tb_test_user_tree
    </sql>

    <select id="selectTbTestUserTreeList" parameterType="TbTestUserTree" resultMap="TbTestUserTreeResult">
        <include refid="selectTbTestUserTreeVo"/>
        <where>
            <if test="treeId != null"> and tree_id = #{treeId}</if>
            <if test="treeName != null"> and tree_name like concat('%', #{treeName}, '%')</if>
            <if test="userName != null and userName != ''"> and user_name like concat('%', #{userName}, '%')</if>
            <if test="password != null and password != ''"> and password = #{password}</if>
            <if test="status != null and status != ''"> and status = #{status}</if>
            <if test="params.beginRegisterDate != null and params.beginRegisterDate != '' and params.endRegisterDate != null and params.endRegisterDate != ''"> and register_date between #{params.beginRegisterDate} and #{params.endRegisterDate}</if>
            <if test="params.beginRegisterTime != null and params.beginRegisterTime != '' and params.endRegisterTime != null and params.endRegisterTime != ''"> and register_time between #{params.beginRegisterTime} and #{params.endRegisterTime}</if>
        </where>
    </select>

    <select id="selectTbTestUserTreeByUserId" parameterType="Long" resultMap="TbTestUserTreeResult">
        <include refid="selectTbTestUserTreeVo"/>
        where user_id = #{userId}
    </select>

    <insert id="insertTbTestUserTree" parameterType="TbTestUserTree" useGeneratedKeys="true" keyProperty="userId">
        insert into tb_test_user_tree
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="treeId != null">tree_id,</if>
            <if test="treeName != null">tree_name,</if>
            <if test="userName != null and userName != ''">user_name,</if>
            <if test="password != null">password,</if>
            <if test="status != null">status,</if>
            <if test="registerDate != null">register_date,</if>
            <if test="registerTime != null">register_time,</if>
            <if test="createById != null">create_by_id,</if>
            <if test="createByName != null">create_by_name,</if>
            <if test="createTime != null">create_time,</if>
            <if test="updateById != null">update_by_id,</if>
            <if test="updateByName != null">update_by_name,</if>
            <if test="updateTime != null">update_time,</if>
            <if test="remark != null">remark,</if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="treeId != null">#{treeId},</if>
            <if test="treeName != null">#{treeName},</if>
            <if test="userName != null and userName != ''">#{userName},</if>
            <if test="password != null">#{password},</if>
            <if test="status != null">#{status},</if>
            <if test="registerDate != null">#{registerDate},</if>
            <if test="registerTime != null">#{registerTime},</if>
            <if test="createById != null">#{createById},</if>
            <if test="createByName != null">#{createByName},</if>
            <if test="createTime != null">#{createTime},</if>
            <if test="updateById != null">#{updateById},</if>
            <if test="updateByName != null">#{updateByName},</if>
            <if test="updateTime != null">#{updateTime},</if>
            <if test="remark != null">#{remark},</if>
        </trim>
    </insert>

    <update id="updateTbTestUserTree" parameterType="TbTestUserTree">
        update tb_test_user_tree
        <trim prefix="SET" suffixOverrides=",">
            <if test="treeId != null">tree_id = #{treeId},</if>
            <if test="treeName != null">tree_name = #{treeName},</if>
            <if test="userName != null and userName != ''">user_name = #{userName},</if>
            <if test="password != null">password = #{password},</if>
            <if test="status != null">status = #{status},</if>
            <if test="registerDate != null">register_date = #{registerDate},</if>
            <if test="registerTime != null">register_time = #{registerTime},</if>
            <if test="createById != null">create_by_id = #{createById},</if>
            <if test="createByName != null">create_by_name = #{createByName},</if>
            <if test="createTime != null">create_time = #{createTime},</if>
            <if test="updateById != null">update_by_id = #{updateById},</if>
            <if test="updateByName != null">update_by_name = #{updateByName},</if>
            <if test="updateTime != null">update_time = #{updateTime},</if>
            <if test="remark != null">remark = #{remark},</if>
        </trim>
        where user_id = #{userId}
    </update>

    <delete id="deleteTbTestUserTreeByUserId" parameterType="Long">
        delete from tb_test_user_tree where user_id = #{userId}
    </delete>

    <delete id="deleteTbTestUserTreeByUserIds" parameterType="List">
        delete from tb_test_user_tree where user_id in
        <foreach item="userId" collection="list" open="(" separator="," close=")">
            #{userId}
        </foreach>
    </delete>
</mapper>